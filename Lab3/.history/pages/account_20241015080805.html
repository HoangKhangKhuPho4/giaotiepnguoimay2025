<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - Dreams LMS</title>
    <!-- Font Awesome CDN cho icon -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="../css/home.css">
    <style>
        /* Reset và cơ bản */
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header */
        .header {
            background-color: #fff;
            padding: 20px;
            border-bottom: 1px solid #e9ecef;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .header .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header .logo {
            display: flex;
            align-items: center;
        }

        .header .logo img {
            height: 40px;
            margin-right: 10px;
        }

        .header .nav a {
            color: #333;
            text-decoration: none;
            margin: 0 15px;
            font-weight: 500;
            position: relative;
            padding: 5px 0;
        }

        .header .nav a:hover {
            color: #007bff;
        }

        .header .nav a.active {
            color: #ff4b5c;
        }

        /* Container */
        .container {
            display: flex;
            padding: 100px 20px 20px 20px; /* Padding top để tránh bị header che */
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: #fff;
            border-right: 1px solid #e9ecef;
            padding: 20px;
            position: sticky;
            top: 80px; /* Vị trí sticky dưới header */
            height: calc(100vh - 80px);
            overflow-y: auto;
        }

        .sidebar .profile-card {
            text-align: center;
            margin-bottom: 20px;
        }

        .sidebar .profile-card img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-bottom: 10px;
            object-fit: cover;
            border: 3px solid #4CAF50;
        }

        .sidebar .profile-card h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 500;
            color: #333;
        }

        .sidebar .profile-card p {
            margin: 5px 0;
            color: #888;
            font-size: 14px;
        }

        .sidebar .profile-card button {
            background-color: #ff4b5c;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s;
            font-size: 14px;
        }

        .sidebar .profile-card button:hover {
            background-color: #e04350;
        }

        .sidebar .menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar .menu li {
            margin-bottom: 10px;
        }

        .sidebar .menu li a {
            color: #333;
            text-decoration: none;
            display: flex;
            align-items: center;
            padding: 10px;
            border-radius: 5px;
            transition: background-color 0.3s;
            position: relative;
        }

        .sidebar .menu li a:hover {
            background-color: #f1f1f1;
        }

        .sidebar .menu li a.active {
            background-color: #ff4b5c;
            color: #fff;
        }

        .sidebar .menu li a i {
            margin-right: 10px;
            font-size: 16px;
        }

        /* Thêm hình đại diện kế bên "Log out" */
        .sidebar .menu li.logout {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .sidebar .menu li.logout a {
            flex: 1;
            display: flex;
            align-items: center;
        }

        .sidebar .menu li.logout .logout-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            margin-left: 10px;
            border: 2px solid #fff;
        }

        /* Main Content */
        .content {
            flex: 1;
            padding: 20px;
        }

        .breadcrumb {
            margin-bottom: 20px;
        }

        .breadcrumb a {
            color: #007bff;
            text-decoration: none;
            margin-right: 5px;
            font-size: 14px;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .breadcrumb span {
            color: #888;
            font-size: 14px;
        }

        .profile-info {
            background-color: #fff;
            padding: 20px 30px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            position: relative;
            animation: fadeIn 0.5s ease-in-out;
        }

        .profile-info h2 {
            margin-top: 0;
            font-size: 24px;
            font-weight: 500;
            color: #333;
            text-align: center;
            margin-bottom: 20px;
        }

        .profile-info .info {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        .profile-info .info-item {
            flex: 1 1 45%;
            display: flex;
            flex-direction: column;
        }

        .profile-info .info-item span {
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }

        .profile-info .info-item input,
        .profile-info .info-item textarea {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .profile-info .info-item input:focus,
        .profile-info .info-item textarea:focus {
            border-color: #007bff;
            outline: none;
        }

        .profile-info .bio {
            margin-top: 20px;
        }

        .profile-info .bio span {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }

        .profile-info .bio textarea {
            width: 100%;
            height: 120px;
            resize: vertical;
        }

        /* Edit Mode */
        .profile-info.editable .info-item {
            width: 100%;
        }

        /* Nút hành động */
        .profile-info .actions {
            margin-top: 20px;
            text-align: right;
        }

        .profile-info .actions button {
            margin-left: 10px;
            padding: 10px 20px;
            font-size: 14px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }

        #editBtn {
            background-color: #007bff;
            color: #fff;
            border: none;
        }

        #editBtn:hover {
            background-color: #0056b3;
        }

        #saveBtn {
            background-color: #28a745;
            color: #fff;
            border: none;
        }

        #saveBtn:hover {
            background-color: #218838;
        }

        #cancelBtn {
            background-color: #dc3545;
            color: #fff;
            border: none;
        }

        #cancelBtn:hover {
            background-color: #c82333;
        }

        /* Thông báo */
        .notification {
            position: fixed;
            top: 80px;
            right: 20px;
            background-color: #28a745;
            color: #fff;
            padding: 15px 20px;
            border-radius: 5px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .notification .close-btn {
            cursor: pointer;
            font-size: 20px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                position: relative;
                height: auto;
                border-right: none;
                border-bottom: 1px solid #e9ecef;
            }

            .content {
                padding: 20px 10px;
            }

            .footer .right .column {
                margin-right: 15px;
            }

            .footer .newsletter {
                margin-right: 15px;
            }

            .footer .contact div {
                margin-right: 10px;
            }

            .menu-user-image {
                display: none; /* Ẩn hình ảnh người dùng trên menu khi màn hình nhỏ */
            }

            /* Điều chỉnh avatar trong sidebar menu cho màn hình nhỏ */
            .sidebar .menu li.logout .logout-avatar {
                width: 30px;
                height: 30px;
            }
        }

        @media (max-width: 480px) {
            .header .nav a {
                margin: 0 8px;
                font-size: 14px;
            }

            .sidebar .menu li a {
                padding: 8px;
                font-size: 14px;
            }

            .profile-info {
                padding: 15px 20px;
            }

            .profile-info h2 {
                font-size: 20px;
            }

            .profile-info .actions button {
                padding: 6px 12px;
                font-size: 12px;
            }

            .footer .right .column {
                margin-right: 10px;
            }

            .footer .newsletter {
                flex-direction: column;
                align-items: flex-start;
            }

            .footer .newsletter input {
                margin-right: 0;
                margin-bottom: 10px;
                width: 100%;
            }

            .footer .newsletter button {
                width: 100%;
            }

            .footer .contact div {
                margin-right: 10px;
                width: 100%;
            }

            /* Điều chỉnh dropdown menu cho màn hình nhỏ */
            .dropdown-menu {
                top: 45px;
                right: 0;
            }

            /* Điều chỉnh avatar trong sidebar menu cho màn hình nhỏ */
            .sidebar .menu li.logout .logout-avatar {
                width: 30px;
                height: 30px;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>

    <!-- Header -->
    <header>
        <div class="nav">
            <div class="logo">
                <h1>FuturLearn</h1>
            </div>
            <nav>
                <a href="../pages/home.html">Home</a>
                <a href="../pages/courses.html">All Courses</a>
                <a href="../pages/tasks.html">To-Do</a>
                <a href="../pages/account.html">My Account</a>
                <a href="../index.html">Log out</a>
            </nav>
        </div>
    </header>

    <!-- Main Container -->
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="profile-card">
                <img alt="Eugene Andre Profile Picture" height="100"
                    src="https://storage.googleapis.com/a1aa/image/tjGgOCW9vApHH9zMf0QPXI8u2y0t9GejosWDiHe2rERoIfaOB.jpg"
                    width="100" />
                <h3>
                    Eugene Andre
                </h3>
                <p>
                    Instructor
                </p>
                <button>
                    <i class="fas fa-plus"></i> Add New Course
                </button>
            </div>
            <ul class="menu">
                <li>
                    <a href="#">
                        <i class="fas fa-tachometer-alt"></i>
                        Dashboard
                    </a>
                </li>
                <li>
                    <a href="#" class="active">
                        <i class="fas fa-user"></i>
                        My Profile
                        <img src="https://storage.googleapis.com/a1aa/image/tjGgOCW9vApHH9zMf0QPXI8u2y0t9GejosWDiHe2rERoIfaOB.jpg" alt="User" class="menu-user-image">
                    </a>
                </li>
                <!-- Các mục menu khác -->
                <li>
                    <a href="#">
                        <i class="fas fa-book"></i>
                        Enrolled Courses
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-heart"></i>
                        Wishlist
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-star"></i>
                        Reviews
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-question-circle"></i>
                        My Quiz Attempts
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-history"></i>
                        Order History
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-comments"></i>
                        Question &amp; Answer
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-user-friends"></i>
                        Referrals
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-envelope"></i>
                        Messages
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-bell"></i>
                        Notifications
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-ticket-alt"></i>
                        Support Tickets
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-book-open"></i>
                        My Courses
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-bullhorn"></i>
                        Announcements
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-money-bill-wave"></i>
                        Withdrawals
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-clipboard-list"></i>
                        Quiz Attempts
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-tasks"></i>
                        Assignments
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-dollar-sign"></i>
                        Earnings
                    </a>
                </li>
                <li class="logout">
                    <a href="#">
                        <i class="fas fa-cog"></i>
                        Settings
                    </a>
                </li>
                <li class="logout">
                    <a href="#">
                        <i class="fas fa-sign-out-alt"></i>
                        Log out
                        <img src="https://via.placeholder.com/40" alt="User Avatar" class="logout-avatar">
                    </a>
                </li>
            </ul>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="breadcrumb">
                <a href="#">
                    Home
                </a>
                <span>
                    /
                </span>
                <a href="#">
                    My Profile
                </a>
            </div>
            <div class="profile-info" id="profileInfo">
                <h2>
                    My Profile
                </h2>
                <div class="actions">
                    <button id="editBtn">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                    <button id="saveBtn" style="display: none;">
                        <i class="fas fa-save"></i> Save
                    </button>
                    <button id="cancelBtn" style="display: none;">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
                <form id="profileForm">
                    <div class="info">
                        <div class="info-item">
                            <span>First Name:</span>
                            <input type="text" id="firstName" name="firstName" value="Eugene" disabled>
                        </div>
                        <div class="info-item">
                            <span>Last Name:</span>
                            <input type="text" id="lastName" name="lastName" value="Andre" disabled>
                        </div>
                        <div class="info-item">
                            <span>Registration Date:</span>
                            <input type="text" id="registrationDate" name="registrationDate" value="January 16, 2024, 11:15 AM" disabled>
                        </div>
                        <div class="info-item">
                            <span>Username:</span>
                            <input type="text" id="username" name="username" value="instructordemo" disabled>
                        </div>
                        <div class="info-item">
                            <span>Email:</span>
                            <input type="email" id="email" name="email" value="instructordemo@example.com" disabled>
                        </div>
                        <div class="info-item">
                            <span>Phone Number:</span>
                            <input type="text" id="phone" name="phone" value="89104-71829" disabled>
                        </div>
                    </div>
                    <div class="bio">
                        <span>Bio:</span>
                        <textarea id="bio" name="bio" disabled>Very well thought out and articulate communication. Clear milestones, deadlines and fast work. Patience. Infinite patience. No shortcuts. Even if the client is being careless. Some quick example text to build on the card title and bulk the card's content. Motlin gives you platform. As a highly skilled and successful product development and design specialist with more than 4 Years of My experience lies in successfully conceptualizing, designing, and modifying consumer products specific to interior design and home furnishings.</textarea>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-container">
            <div class="footer-brand">
                <h2>FuturLearn</h2>
                <p>Empowering students through knowledge. Join us to share and access valuable learning resources!</p>
            </div>
            <div class="footer-links">
                <div class="footer-section">
                    <h4>Study Resources</h4>
                    <ul>
                        <li><a href="#">Lecture Notes</a></li>
                        <li><a href="#">Assignments</a></li>
                        <li><a href="#">Reference Materials</a></li>
                        <li><a href="#">Exam Prep</a></li>
                        <li><a href="#">Study Guides</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>About Us</h4>
                    <ul>
                        <li><a href="#">Our Mission</a></li>
                        <li><a href="#">Meet the Team</a></li>
                        <li><a href="#">Student Testimonials</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Blog</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="#">FAQs</a></li>
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Live Chat</a></li>
                        <li><a href="#">Resources</a></li>
                        <li><a href="#">Feedback</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#">Login</a></li>
                        <li><a href="#">Register</a></li>
                        <li><a href="#">Events</a></li>
                        <li><a href="#">News</a></li>
                        <li><a href="#">Policies</a></li>
                    </ul>
                </div>
                <div class="footer-section contact-info">
                    <h4>Contact Us</h4>
                    <p>Email: support@futurlearn.com</p>
                    <p>Phone: +1 (123) 456-7890</p>
                    <h4>Follow Us</h4>
                    <div class="social-media">
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="Pinterest"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-legal">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms & Conditions</a>
                    <a href="#">Code of Conduct</a>
                </div>
                <p>If you would like to share learning materials, please upload your documents directly to the designated course folders on the platform for easy access by students and faculty.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const editBtn = document.getElementById('editBtn');
            const saveBtn = document.getElementById('saveBtn');
            const cancelBtn = document.getElementById('cancelBtn');
            const profileForm = document.getElementById('profileForm');
            const profileInfo = document.getElementById('profileInfo');

            // Các trường nhập liệu
            const firstName = document.getElementById('firstName');
            const lastName = document.getElementById('lastName');
            const email = document.getElementById('email');
            const phone = document.getElementById('phone');
            const bio = document.getElementById('bio');

            let originalData = {};

            // Lưu trữ dữ liệu ban đầu khi nhấn Edit
            editBtn.addEventListener('click', function () {
                profileInfo.classList.add('editable');
                profileForm.querySelectorAll('input, textarea').forEach(input => input.disabled = false);
                saveBtn.style.display = 'inline-block';
                cancelBtn.style.display = 'inline-block';
                editBtn.style.display = 'none';

                // Lưu trữ dữ liệu ban đầu
                originalData = {
                    firstName: firstName.value,
                    lastName: lastName.value,
                    email: email.value,
                    phone: phone.value,
                    bio: bio.value
                };
            });

            // Hủy bỏ chỉnh sửa
            cancelBtn.addEventListener('click', function () {
                profileInfo.classList.remove('editable');
                profileForm.querySelectorAll('input, textarea').forEach(input => input.disabled = true);
                saveBtn.style.display = 'none';
                cancelBtn.style.display = 'none';
                editBtn.style.display = 'inline-block';

                // Khôi phục dữ liệu ban đầu
                firstName.value = originalData.firstName;
                lastName.value = originalData.lastName;
                email.value = originalData.email;
                phone.value = originalData.phone;
                bio.value = originalData.bio;
            });

            // Lưu thông tin đã chỉnh sửa
            saveBtn.addEventListener('click', function () {
                // Kiểm tra tính hợp lệ
                if (firstName.value.trim() === '' || lastName.value.trim() === '' || email.value.trim() === '' || phone.value.trim() === '') {
                    alert('Vui lòng điền đầy đủ thông tin.');
                    return;
                }

                // Kiểm tra định dạng email
                const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailPattern.test(email.value)) {
                    alert('Vui lòng nhập email hợp lệ.');
                    return;
                }

                // Kiểm tra định dạng số điện thoại (ví dụ chỉ số)
                const phonePattern = /^[0-9\-+()\s]{7,15}$/;
                if (!phonePattern.test(phone.value)) {
                    alert('Vui lòng nhập số điện thoại hợp lệ.');
                    return;
                }

                // Ở đây bạn có thể thêm mã để gửi dữ liệu đến server thông qua AJAX hoặc Fetch API

                // Sau khi lưu thành công
                profileInfo.classList.remove('editable');
                profileForm.querySelectorAll('input, textarea').forEach(input => input.disabled = true);
                saveBtn.style.display = 'none';
                cancelBtn.style.display = 'none';
                editBtn.style.display = 'inline-block';

                // Hiển thị thông báo
                const notification = document.getElementById('notification');
                notification.style.display = 'flex';
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 3000);
            });

            // Cập nhật ảnh đại diện
            const imageUpload = document.querySelector('.profile-card img');
            const profilePicButton = document.querySelector('.profile-card button');

            profilePicButton.addEventListener('click', function () {
                // Tạo một input file ẩn để chọn ảnh
                const fileInput = document.createElement('input');
                fileInput.type = 'file';
                fileInput.accept = 'image/*';
                fileInput.style.display = 'none';
                document.body.appendChild(fileInput);

                fileInput.click();

                fileInput.addEventListener('change', function () {
                    const file = this.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function (e) {
                            imageUpload.src = e.target.result;
                        }
                        reader.readAsDataURL(file);
                    }
                    document.body.removeChild(fileInput);
                });
            });

            // Handle form submission (prevent default and simulate)
            profileForm.addEventListener('submit', function (e) {
                e.preventDefault();
                // Tương tự như saveBtn click
                saveBtn.click();
            });

            // Thêm avatar kế bên "Log out" trong sidebar
            const logoutMenuItem = document.querySelector('.sidebar .menu li.logout a');
            if (logoutMenuItem) {
                // Create avatar image
                const avatarImg = document.createElement('img');
                avatarImg.src = "https://via.placeholder.com/40"; // Thay đổi URL ảnh thật của bạn
                avatarImg.alt = "User Avatar";
                avatarImg.classList.add('logout-avatar');

                // Append avatar image next to "Log out" text
                logoutMenuItem.appendChild(avatarImg);
            }

            // Xử lý đóng thông báo
            document.querySelector('.notification .close-btn').addEventListener('click', function () {
                this.parentElement.style.display = 'none';
            });
        });
    </script>
</body>

</html>
