<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Improved Sign Up Page</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap CSS -->
    <link
      crossorigin="anonymous"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/register.css"/>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <!-- Left Side: Image -->
        <div class="col-md-6 left-side">
          <img
            alt="A woman holding a tablet, with a gradient overlay"
            src="https://storage.googleapis.com/a1aa/image/3UrdhraMWE7EFdr8Sfb8XGHfuBRe5qQ2ZZY4HPqjkOJEplQoA.jpg"
            class="img-fluid rounded"
          />
        </div>
        <!-- Right Side: Sign Up Form -->
        <div class="col-md-6 right-side">
          <div class="form-container">
            <h2>Create an Account</h2>
            <form id="signupForm" novalidate>
              <!-- Full Name -->
              <div class="mb-3">
                <label class="form-label" for="fullName">Full Name</label>
                <div class="input-group">
                  <span class="input-group-text">
                    <i class="fas fa-user"></i>
                  </span>
                  <input
                    type="text"
                    class="form-control"
                    id="fullName"
                    placeholder="Enter your full name"
                    required
                    aria-describedby="fullNameHelp"
                  />
                  <div class="invalid-feedback">
                    Please enter your full name.
                  </div>
                </div>
              </div>
              <!-- Email -->
              <div class="mb-3">
                <label class="form-label" for="email">Email</label>
                <div class="input-group">
                  <span class="input-group-text">
                    <i class="fas fa-envelope"></i>
                  </span>
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    placeholder="you@example.com"
                    required
                    aria-describedby="emailHelp"
                  />
                  <div class="invalid-feedback">
                    Please enter a valid email address.
                  </div>
                </div>
              </div>
              <!-- Username -->
              <div class="mb-3">
                <label class="form-label" for="username">Username</label>
                <div class="input-group">
                  <span class="input-group-text">
                    <i class="fas fa-user-circle"></i>
                  </span>
                  <input
                    type="text"
                    class="form-control"
                    id="username"
                    placeholder="Choose a username"
                    required
                    aria-describedby="usernameHelp"
                  />
                  <div class="invalid-feedback">
                    Please choose a username.
                  </div>
                </div>
              </div>
              <!-- Password -->
              <div class="mb-3 position-relative">
                <label class="form-label" for="password">Password</label>
                <div class="input-group">
                  <span class="input-group-text">
                    <i class="fas fa-lock"></i>
                  </span>
                  <input
                    type="password"
                    class="form-control"
                    id="password"
                    placeholder="Create a password"
                    required
                    aria-describedby="passwordHelp"
                  />
                  <button
                    class="btn btn-outline-secondary"
                    type="button"
                    id="togglePassword"
                    aria-label="Toggle password visibility"
                  >
                    <i class="fas fa-eye"></i>
                  </button>
                  <div class="invalid-feedback">
                    Please enter a password.
                  </div>
                </div>
                <!-- Password Strength Indicator -->
                <div class="password-strength" id="passwordStrength">
                  <div class="password-strength-bar"></div>
                </div>
              </div>
              <!-- Repeat Password -->
              <div class="mb-3">
                <label class="form-label" for="repeatPassword"
                  >Repeat Password</label
                >
                <div class="input-group">
                  <span class="input-group-text">
                    <i class="fas fa-lock"></i>
                  </span>
                  <input
                    type="password"
                    class="form-control"
                    id="repeatPassword"
                    placeholder="Confirm your password"
                    required
                    aria-describedby="repeatPasswordHelp"
                  />
                  <div class="invalid-feedback">
                    Please confirm your password.
                  </div>
                </div>
              </div>
              <!-- Terms of Service -->
              <div class="mb-3 form-check">
                <input
                  class="form-check-input"
                  id="termsCheck"
                  type="checkbox"
                  required
                />
                <label class="form-check-label" for="termsCheck">
                  I agree to the <a href="#">Terms of Service</a>
                </label>
                <div class="invalid-feedback">
                  You must agree to the terms before signing up.
                </div>
              </div>
              <!-- Sign Up Button -->
              <button class="btn btn-primary w-100" type="submit">
                Sign Up
              </button>
              <!-- Sign In Link -->
              <div class="sign-in-link">
                <p>
                  Already have an account?
                  <a href="login.html">Sign in â†’</a>
                </p>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    ></script>
    <!-- Custom JS -->
    <script>
      (function () {
        "use strict";

        // Password Strength Indicator
        const passwordInput = document.getElementById("password");
        const passwordStrength = document.getElementById("passwordStrength");
        const passwordStrengthBar =
          document
            .getElementById("passwordStrength")
            .querySelector(".password-strength-bar");

        passwordInput.addEventListener("input", function () {
          const value = passwordInput.value;
          let strength = 0;

          if (value.length >= 8) strength++;
          if (/[A-Z]/.test(value)) strength++;
          if (/[a-z]/.test(value)) strength++;
          if (/[0-9]/.test(value)) strength++;
          if (/[^A-Za-z0-9]/.test(value)) strength++;

          // Reset classes
          passwordStrength.classList.remove("weak", "medium", "strong");

          if (strength <= 2) {
            passwordStrength.classList.add("weak");
            passwordStrengthBar.style.width = "33%";
          } else if (strength === 3 || strength === 4) {
            passwordStrength.classList.add("medium");
            passwordStrengthBar.style.width = "66%";
          } else if (strength === 5) {
            passwordStrength.classList.add("strong");
            passwordStrengthBar.style.width = "100%";
          } else {
            passwordStrengthBar.style.width = "0%";
          }
        });

        // Toggle Password Visibility
        const togglePassword = document.getElementById("togglePassword");
        const togglePasswordIcon = togglePassword.querySelector("i");
        togglePassword.addEventListener("click", function () {
          const type =
            passwordInput.getAttribute("type") === "password" ? "text" : "password";
          passwordInput.setAttribute("type", type);
          togglePasswordIcon.classList.toggle("fa-eye");
          togglePasswordIcon.classList.toggle("fa-eye-slash");
        });

        // Form Validation
        const form = document.getElementById("signupForm");
        form.addEventListener(
          "submit",
          function (e) {
            e.preventDefault();
            e.stopPropagation();

            // Remove previous validation classes
            const inputs = form.querySelectorAll(".form-control");
            inputs.forEach((input) => {
              input.classList.remove("is-valid");
              input.classList.remove("is-invalid");
            });

            const checkboxes = form.querySelectorAll(".form-check-input");
            checkboxes.forEach((checkbox) => {
              checkbox.classList.remove("is-valid");
              checkbox.classList.remove("is-invalid");
            });

            // Check if form is valid
            if (!form.checkValidity()) {
              form.classList.add("was-validated");
              return;
            }

            // Check if passwords match
            const password = document.getElementById("password").value.trim();
            const repeatPassword = document
              .getElementById("repeatPassword")
              .value.trim();

            if (password !== repeatPassword) {
              const repeatPasswordInput = document.getElementById("repeatPassword");
              repeatPasswordInput.classList.add("is-invalid");
              repeatPasswordInput.nextElementSibling.textContent =
                "Passwords do not match.";
              return;
            } else {
              const repeatPasswordInput = document.getElementById("repeatPassword");
              repeatPasswordInput.classList.remove("is-invalid");
              repeatPasswordInput.classList.add("is-valid");
            }

            // If everything is valid
            alert("Registration successful!");
            form.reset();
            form.classList.remove("was-validated");
            // Reset password strength bar
            passwordStrength.classList.remove("weak", "medium", "strong");
            passwordStrengthBar.style.width = "0%";
            // Remove validation classes
            inputs.forEach((input) => {
              input.classList.remove("is-valid");
              input.classList.remove("is-invalid");
            });
            checkboxes.forEach((checkbox) => {
              checkbox.classList.remove("is-valid");
              checkbox.classList.remove("is-invalid");
            });
          },
          false
        );
      })();
    </script>
  </body>
</html>
